var a=(a,e,s)=>new Promise(((t,n)=>{var o=a=>{try{l(s.next(a))}catch(e){n(e)}},u=a=>{try{l(s.throw(a))}catch(e){n(e)}},l=a=>a.done?t(a.value):Promise.resolve(a.value).then(o,u);l((s=s.apply(a,e)).next())}));import{G as e,r as s,E as t,q as n,o,F as u,u as l,n as r,s as i,H as c,m as d,I as v,J as p,B as m,K as h,z as _,A as f,x as g,y,C as x,L as P,M as j}from"./vendors.d813e406.js";import{u as C,a as b}from"./common.5222b5a7.js";import{_ as w}from"./_plugin-vue_export-helper.1b428a4d.js";const L=6e4,V="https://func-ijbj-efjiqvgesn.cn-hangzhou.fcapp.run",k=a=>{let s="";return s=V,new Promise(((t,n)=>{e({url:s,method:a.method||"GET",timeout:L,header:{"X-Api-Key":"PZCebG2Vi9UAnEKe9i9a"},data:a.data||{},success(a){t(a.data)},fail(a){n(a)}})}))},A={class:"chat-list-container"},B={class:"user-input-container"},E={__name:"CatChat",setup(e){const g=C(),y=s(null),x=s([]),P=()=>a(this,null,(function*(){if(!y.value)return;const a=y.value;g.setLoading(!0),x.value.push({type:"user",message:a}),y.value=null;const e=yield k({method:"POST",data:{profile:g.activeProfile,message:a}});g.setLoading(!1),x.value.push({type:"cat",message:e.message})}));return(a,e)=>{const s=t("taro-textarea"),g=t("taro-view"),j=n("touch");return o(),u(g,{class:"container"},{default:l((()=>[r("div",A,[i(c,null,{default:l((()=>[(o(!0),d(v,null,p(x.value,(a=>(o(),d("div",{key:a,class:m(["chat",a.type])},[r("div",{class:m(["chat-content",a.type])},h(a.message),3)],2)))),128))])),_:1})]),r("div",B,[i(s,{class:"user-input","auto-focusd":!0,modelValue:y.value,"onUpdate:modelValue":e[0]||(e[0]=a=>y.value=a)},null,8,["modelValue"]),_((o(),d("div",{class:m(["button",{active:y.value}])},e[1]||(e[1]=[f("\u53d1\u9001 ")]),2)),[[j,P,"tap"]])])])),_:1})}}},G=w(E,[["__scopeId","data-v-a40755d0"],["__file","CatChat.vue"]]),I={class:"container"},K={class:"nav-btn"},N={key:0,class:"loading"},T={__name:"NavBar",setup(a){const e=b(),s=C(),t=()=>{const a=e.previousRoute;x.redirectTo({url:a})};return(a,e)=>{const u=n("touch");return o(),d("div",I,[_((o(),d("div",K,e[0]||(e[0]=[f("back")]))),[[u,t,"tap"]]),g(s).isLoading?(o(),d("div",N,"\u732b\u732b\u8f93\u5165\u4e2d ...")):y("",!0)])}}},q=w(T,[["__scopeId","data-v-3f709316"],["__file","NavBar.vue"]]),z={__name:"chat_detail",setup(a){const e=j(),s=C();return P((()=>{s.setProfile(e.router.params.profile)})),(a,e)=>{const s=t("taro-view");return o(),u(s,{className:"index"},{default:l((()=>[i(q),i(G)])),_:1})}}},U=w(z,[["__file","chat_detail.vue"]]);export{U as default};
